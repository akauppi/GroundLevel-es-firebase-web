{
  "hosting": {
    "public": "$SERVE_PATH",
    "rewrites": [
      {
        "source": "!**/*.@(css|js|map)",
        "destination": "/index.html"
      }
    ],
    "redirects": [
      {
        "source": "/old-sample",
        "destination": "/new-sample",
        "type": 301
      }
    ]
  },

  "//": {
    "hosting.public": [
      "Must match 'outDir' in 'vite.config.js'"
    ],
    "hosting.rewrites": [
      "Non-existing '.html' and postfix-less fetches should lead to SPA index. Missing sourcemaps, scripts etc. should show as 404.",
      "",
      "Test this (manually) by:",
      "  /common.css -> 200",
      "  /nosuch.js -> 404",
      "  /some -> 200 (index.html)",
      "  /some.html -> 200",
      "  /main-{hash}.js.map (that exists) -> 200"
    ],
    "hosting.redirects": [
      "If you change the app's routing, consider adding a redirect so that users' existing bookmarks and what-not",
      "can remain functional, despite the change (if it's just a rework)."
    ]
  }
}
